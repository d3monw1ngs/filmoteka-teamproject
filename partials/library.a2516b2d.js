!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequire7a9c;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,i.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequire7a9c=i),i.register("8OLSw",(function(e,t){var n,i,o,a;n=e.exports,i="pageCall",o=function(){return M},Object.defineProperty(n,i,{get:o,set:a,enumerable:!0,configurable:!0});var d,c,s,l,r="api_key=b5e824a3d922f68ba211fcf6dbdcb6f5",u="https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&"+r;s=null===JSON.parse(localStorage.getItem("movie-queue"))?[]:JSON.parse(localStorage.getItem("movie-queue")),localStorage.setItem("movie-queue",JSON.stringify(s)),l=null===JSON.parse(localStorage.getItem("movie-watched"))?[]:JSON.parse(localStorage.getItem("movie-watched")),localStorage.setItem("movie-watched",JSON.stringify(l));var m,g=document.getElementById("myModal"),f=document.getElementById("modal-poster"),v=document.getElementById("modal-title"),p=document.getElementById("modal-vote"),h=document.getElementById("modal-popularity"),y=document.getElementById("modal-original-title"),b=document.getElementById("modal-genre"),E=document.getElementById("modal-overview"),L=document.getElementById("addToWatchedBtn"),I=document.getElementById("addToQueuBtn"),w=document.getElementsByClassName("close")[0];function S(){g.style.display="none"}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5").then((function(e){return e.json()})).then((function(e){m=e.genres,J(u),j(e)})).catch((function(e){})),w.addEventListener("click",S),window.addEventListener("click",(function(e){e.target===g&&S()}));var B,x,k=document.getElementById("main"),O=document.getElementById("search-form"),_=document.getElementById("search-input"),C=document.querySelector(".loader-container"),N=1,q=document.getElementById("prev"),T=document.getElementById("next");function J(e){B=e,k.classList.toggle("is-hidden"),C.classList.toggle("is-hidden"),fetch(e).then((function(e){return e.json()})).then((function(e){console.log(e.results),0!==e.results.length?(j(e.results),N=e.page,k.classList.toggle("is-hidden"),C.classList.toggle("is-hidden"),function(){N<=1?(q&&q.classList.add("disabled"),T&&T.classList.remove("disabled")):N>=x?(q&&q.classList.remove("disabled"),T&&T.classList.add("disabled")):(q&&q.classList.remove("disabled"),T&&T.classList.remove("disabled"));q.addEventListener("click",(function(){0})),T.addEventListener("click",(function(){0}))}()):(k.classList.toggle("is-hidden"),C.classList.toggle("is-hidden"),k.innerHTML='<h1 class="no-results">No Results Found</h1>')}))}function j(e){k.innerHTML="",e.forEach((function(e){var t=e.title,n=e.poster_path,i=e.release_date,o=e.genre_ids,a=document.createElement("div");a.classList.add("movie");var s=o&&Array.isArray(m)?o.map((function(e){var t=m.find((function(t){return t.id===e}));return t?t.name:""})).join(", "):"";a.innerHTML='\n            <img src="'.concat(n?"https://image.tmdb.org/t/p/w500"+n:"http:/>/via.placeholder.com/1080x1500",'"\n                alt="').concat(t,'"/>\n            <div class="movie-info">\n                <h3>').concat(t.toUpperCase(),'</h3>\n                <div class="movie-details">\n                <div>').concat(s," | ").concat(i.slice(0,4),"</div>\n                </div>\n                  </div>\n                  "),a.addEventListener("click",(function(){!function(e){f.src="https://image.tmdb.org/t/p/w500/".concat(e.poster_path),v.textContent=e.title.toUpperCase(),p.innerHTML='\n      <span class="vote-avg">'.concat(e.vote_average.toFixed(1),"</span>")+"   /   "+e.vote_count,h.textContent=e.popularity.toFixed(1),y.textContent=e.original_title.toUpperCase();var t=e.genre_ids.map((function(e){var t=m.find((function(t){return t.id===e}));return t?t.name:""})).join(", ");b.textContent=t,E.textContent=e.overview,g.style.display="block",c=e.id,d=e.title}(e)})),k.appendChild(a)}))}function M(e){var t=B.split("?"),n=t[1].split("&"),i=n[n.length-1].split("=");if("page"!=i[0]){J(B+"&page="+e)}else{i[1]=e.toString();var o=i.join("=");n[n.length-1]=o;var a=n.join("&");J(t[0]+"?"+a)}}J(u),O.addEventListener("submit",(function(e){e.preventDefault();var t=_.value;J(t?"https://api.themoviedb.org/3/search/movie?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5&query="+t:u)})),q.addEventListener("click",(function(){0})),T.addEventListener("click",(function(){0})),L.addEventListener("click",(function(){l.includes(c)?alert("".concat(d," has been watched already")):l.push(c),localStorage.setItem("movie-watched",JSON.stringify(l))})),I.addEventListener("click",(function(){s.includes(c)?alert("".concat(d," has been added to the queue already")):s.push(c),localStorage.setItem("movie-queue",JSON.stringify(s))})),document.body.addEventListener("keydown",(function(e){"Escape"===e.code&&S()}))})),i("8OLSw")}();
//# sourceMappingURL=library.a2516b2d.js.map
