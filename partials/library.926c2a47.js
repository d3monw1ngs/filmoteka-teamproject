var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequire7a9c;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,i.call(o.exports,o,o.exports),o.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){n[e]=t},e.parcelRequire7a9c=i),i.register("2Ep0d",(function(e,t){var n,i,o,d;n=e.exports,i="pageCall",o=function(){return j},Object.defineProperty(n,i,{get:o,set:d,enumerable:!0,configurable:!0});const s="api_key=b5e824a3d922f68ba211fcf6dbdcb6f5",a="https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&"+s;let l,c,r,m;r=null===JSON.parse(localStorage.getItem("movie-queue"))?[]:JSON.parse(localStorage.getItem("movie-queue")),localStorage.setItem("movie-queue",JSON.stringify(r)),m=null===JSON.parse(localStorage.getItem("movie-watched"))?[]:JSON.parse(localStorage.getItem("movie-watched")),localStorage.setItem("movie-watched",JSON.stringify(m));const u=document.getElementById("myModal"),g=document.getElementById("modal-poster"),p=document.getElementById("modal-title"),v=document.getElementById("modal-vote"),f=document.getElementById("modal-popularity"),h=document.getElementById("modal-original-title"),y=document.getElementById("modal-genre"),b=document.getElementById("modal-overview"),E=document.getElementById("addToWatchedBtn"),L=document.getElementById("addToQueuBtn"),I=document.getElementsByClassName("close")[0];let w;function B(){u.style.display="none"}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5").then((e=>e.json())).then((e=>{w=e.genres,$(a),J(e)})).catch((e=>{})),I.addEventListener("click",B),window.addEventListener("click",(function(e){e.target===u&&B()}));const S=document.getElementById("main"),x=document.getElementById("search-form"),k=document.getElementById("search-input"),_=document.querySelector(".loader-container");let C,N,O=1;const q=document.getElementById("prev"),T=document.getElementById("next");function $(e){C=e,S.classList.toggle("is-hidden"),_.classList.toggle("is-hidden"),fetch(e).then((e=>e.json())).then((e=>{console.log(e.results),0!==e.results.length?(J(e.results),O=e.page,S.classList.toggle("is-hidden"),_.classList.toggle("is-hidden"),function(){O<=1?(q&&q.classList.add("disabled"),T&&T.classList.remove("disabled")):O>=N?(q&&q.classList.remove("disabled"),T&&T.classList.add("disabled")):(q&&q.classList.remove("disabled"),T&&T.classList.remove("disabled"));q.addEventListener("click",(()=>{0})),T.addEventListener("click",(()=>{0}))}()):(S.classList.toggle("is-hidden"),_.classList.toggle("is-hidden"),S.innerHTML='<h1 class="no-results">No Results Found</h1>')}))}function J(e){S.innerHTML="",e.forEach((e=>{const{title:t,poster_path:n,release_date:i,genre_ids:o}=e,d=document.createElement("div");d.classList.add("movie");const s=o&&Array.isArray(w)?o.map((e=>{const t=w.find((t=>t.id===e));return t?t.name:""})).join(", "):"";d.innerHTML=`\n            <img src="${n?"https://image.tmdb.org/t/p/w500"+n:"http:/>/via.placeholder.com/1080x1500"}"\n                alt="${t}"/>\n            <div class="movie-info">\n                <h3>${t.toUpperCase()}</h3>\n                <div class="movie-details">\n                <div>${s} | ${i.slice(0,4)}</div>\n                </div>\n                  </div>\n                  `,d.addEventListener("click",(function(){!function(e){g.src=`https://image.tmdb.org/t/p/w500/${e.poster_path}`,p.textContent=e.title.toUpperCase(),v.innerHTML=`\n      <span class="vote-avg">${e.vote_average.toFixed(1)}</span>   /   `+e.vote_count,f.textContent=e.popularity.toFixed(1),h.textContent=e.original_title.toUpperCase();const t=e.genre_ids.map((e=>{const t=w.find((t=>t.id===e));return t?t.name:""})).join(", ");y.textContent=t,b.textContent=e.overview,u.style.display="block",c=e.id,l=e.title}(e)})),S.appendChild(d)}))}function j(e){let t=C.split("?"),n=t[1].split("&"),i=n[n.length-1].split("=");if("page"!=i[0]){$(C+"&page="+e)}else{i[1]=e.toString();let o=i.join("=");n[n.length-1]=o;let d=n.join("&");$(t[0]+"?"+d)}}$(a),x.addEventListener("submit",(e=>{e.preventDefault();const t=k.value;$(t?"https://api.themoviedb.org/3/search/movie?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5&query="+t:a)})),q.addEventListener("click",(()=>{0})),T.addEventListener("click",(()=>{0})),E.addEventListener("click",(()=>{m.includes(c)?alert(`${l} has been watched already`):m.push(c),localStorage.setItem("movie-watched",JSON.stringify(m))})),L.addEventListener("click",(()=>{r.includes(c)?alert(`${l} has been added to the queue already`):r.push(c),localStorage.setItem("movie-queue",JSON.stringify(r))})),document.body.addEventListener("keydown",(e=>{"Escape"===e.code&&B()}))})),i("2Ep0d");
//# sourceMappingURL=library.926c2a47.js.map
